!function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");if("undefined"==typeof THREE)throw new Error("Component attempted to register before THREE was available.");AFRAME.registerComponent("lensflare",{schema:{src:{type:"asset"},createLight:{type:"boolean",default:!0},position:{type:"vec3"},target:{type:"string"},intensity:{type:"number",default:5},relative:{type:"boolean",default:!0},size:{type:"number",default:500},lightColor:{type:"string",default:"rgb(255, 255, 255)"},lightDistance:{type:"number",default:4},lightAngle:{type:"number",default:Math.PI/3},lightPenumbra:{type:"number",default:.077},lightDecay:{type:"number",default:1},lightType:{default:"spot",oneOf:["directional","point","spot"]}},multiple:!0,setLightType:function(t,e){switch(t){case"spot":return new THREE.SpotLight(new THREE.Color(e.lightColor),e.intensity,e.lightDistance,e.lightAngle,e.lightPenumbra,e.lightDecay);case"point":return new THREE.PointLight(new THREE.Color(e.lightColor),e.intensity,e.lightDistance,e.lightDecay);case"directional":return new THREE.DirectionalLight(new THREE.Color(e.lightColor),e.intensity)}},init:function(){var t=document.querySelector("a-scene").object3D,e=this.el.object3D,i=e.position,a=this.el.object3D,n=this.el.sceneEl.object3D,o=this.data.relative?new THREE.Vector3(i.x+this.data.position.x,i.y+this.data.position.y,i.z+this.data.position.z):this.data.position,r=new THREE.TextureLoader,l=r.load(this.data.src,function(t){return t},function(t){},function(t){throw new Error("An error occured loading the Flare texture")});if(this.lensFlare=new THREE.LensFlare(l,this.data.size,0,THREE.AdditiveBlending,new THREE.Color(this.data.lightColor)),this.lensFlare.position.copy(o),this.data.createLight){var s=this.setLightType(this.data.lightType.toLowerCase(),this.data),h=!!this.data.target&&this.data.target;h&&(s.target=document.querySelector(this.data.target).object3D),s.position.set(o.x,o.y,o.z),this.data.relative?(THREE.SceneUtils.attach(s,n,a),THREE.SceneUtils.attach(this.lensFlare,n,a),n.updateMatrixWorld()):t.add(s)}else this.data.relative?(THREE.SceneUtils.attach(this.lensFlare,n,a),n.updateMatrixWorld()):t.add(this.lensFlare)},update:function(t){},remove:function(){},pause:function(){},play:function(){}})}]);
//# sourceMappingURL=aframe-lensflare-component.min.js.map